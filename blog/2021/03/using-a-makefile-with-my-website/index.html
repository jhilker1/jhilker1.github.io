<!doctype html><html lang=en-us><head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name=viewport>
<meta name=viewport content="width=device-width">
<title> Using A Makefile With My Website | Jacob's Website</title>
<link href=/css/halfmoon-variables.min.3d7409702b16355b54aa235e791e286775d9908e6d9cf66e31a2ce694d5c9c63.css rel=stylesheet>
<link href=/css/style.min.ed8bb7c020e60da4e4c980fe14bd23b23d3cf00bc07dd26012d7acf8d1b812b7.css rel=stylesheet>
<link href=/css/syntax.min.e44896eb9fe75cf8fc30db9d4eacc299b20e752c34e7e407dac008b8a2abd98e.css rel=stylesheet>
<link href=/css/custom.min.fada539d592d795c5e33556adf6fefad4138bd9e0a2d7b065384834030048918.css rel=stylesheet>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin=anonymous>
<link rel=stylesheet href=https://cdn.jsdelivr.net/gh/devicons/devicon@v2.10.1/devicon.min.css>
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Using A Makefile With My Website">
<meta name=twitter:description content="It shouldn&rsquo;t be a surprise that I use Hugo as a static site generator. Not only is it fast, but it is also incredibly customizable, which is something that I find useful considering my website has so much stuff on it. In addition, being able to create shortcodes to avoid reusing code on certain pages is such a helpful tool for wikis. Finally, having support for Emacs' Org-Mode is what initially drew me to Hugo in the first place.">
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css integrity=sha384-t5CR+zwDAROtph0PXGte6ia8heboACF9R5l/DiY+WZ3P2lxNgvJkQk5n7GPvLMYw crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js integrity=sha384-FaFLTlohFghEIZkw6VGwmf9ISTubWAVYW8tG8+w2LAIftJEULZABrF9PPFv+tVkH crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js integrity=sha384-bHBqxz8fokvgoJ/sc17HODNxa42TlaEhB+w8ZJXTc2nZf1VgEaFZeZvT4Mznfz0v crossorigin=anonymous onload=renderMathInElement(document.body)></script>
</head>
<body class="with-custom-webkit-scrollbars with-custom-css-scrollbars" data-dm-shortcut-enabled=true data-sidebar-shortcut-enabled=true data-set-preferred-mode-onload=true>
<div class="page-wrapper with-navbar with-sidebar" data-sidebar-type="full-height overlayed-sm-and-down">
<nav class=navbar>
<div class=navbar-content>
<button class="btn btn-action" type=button onclick=halfmoon.toggleSidebar()>
<i class="fa fa-bars" aria-hidden=true></i>
<span class=sr-only>Toggle sidebar</span>
</button>
</div>
<ul class="navbar-nav d-none d-md-flex">
<li class=nav-item>
<a href=/ class=nav-link> &nbsp;Home</a>
</li>
<li class=nav-item>
<a href=/about/ class=nav-link> &nbsp;About</a>
</li>
<li class=nav-item>
<a href=/resume/ class=nav-link> &nbsp;Resumé</a>
</li>
<li class=nav-item>
<a href=/projects/ class=nav-link> &nbsp;Projects</a>
</li>
<li class="nav-item dropdown with-arrow">
<a class=nav-link data-toggle=dropdown id=nav-link-dropdown-toggle>
&nbsp;Blog
<i class="fa fa-angle-down ml-5" aria-hidden=true></i>
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby=nav-link-dropdown-toggle>
<a href=/blog/ class=dropdown-item>&nbsp;Recent Posts</a>
<a href=/archive/ class=dropdown-item>&nbsp;Blog Archive</a>
<a href=/blog/feed.xml class=dropdown-item>&nbsp;RSS Feed</a>
</div>
</li>
<li class=nav-item>
<a href=https://config.jhilker.com class=nav-link> &nbsp;Configs</a>
</li>
<li class=nav-item>
<a href=https://gitlab.com/jhilker/jhilker.gitlab.io class=nav-link> &nbsp;Source</a>
</li>
</ul>
<div class="navbar-content d-md-none ml-auto">
<div class="dropdown with-arrow">
<button class=btn data-toggle=dropdown type=button id=navbar-dropdown-toggle-btn-1>
Menu
<i class="fa fa-angle-down" aria-hidden=true></i>
</button>
<div class="dropdown-menu dropdown-menu-right w-200" aria-labelledby=navbar-dropdown-toggle-btn-1>
<a href=/ class=dropdown-item> &nbsp; Home</a>
<a href=/about/ class=dropdown-item> &nbsp; About</a>
<a href=/resume/ class=dropdown-item> &nbsp; Resumé</a>
<a href=/projects/ class=dropdown-item> &nbsp; Projects</a>
<a href=/blog/ class=dropdown-item> &nbsp; Blog</a>
<a href=https://config.jhilker.com class=dropdown-item> &nbsp; Configs</a>
<a href=https://gitlab.com/jhilker/jhilker.gitlab.io class=dropdown-item> &nbsp; Source</a>
</div>
</div>
</div>
<button class="btn darkModeBtn ml-auto d-none d-lg-inline-block" type=button onclick=halfmoon.toggleDarkMode() aria-label="Toggle dark mode">
<i class="fas fa-sun" aria-hidden=true></i>
</button>
</nav>
<div class=sidebar-overlay onclick=halfmoon.toggleSidebar()></div>
<div class=sidebar>
<div class=sidebar-menu>
<div class=personal-content>
<h4 id=title>Jacob's Website</h4>
<img class="sidebar-img img-fluid" src=/pics/jhilker.jpg alt="User profile picture">
<p>I am a Python dev and a fan of Hugo. Currently looking for work.</p>
<div class="socials d-med-none d-inline-block">
<a id=social href=https://gitlab.com/jhilker>
<i class="fab fa-gitlab"></i>
</a>
&nbsp;
<a id=social href=https://github.com/jhilker1>
<i class="fab fa-github"></i>
</a>
&nbsp;
<a id=social href=https://linkedin.com/in/jhilker>
<i class="fab fa-linkedin"></i>
</a>
&nbsp;
<a id=social href=https://dev.to/jhilker>
<i class="fab fa-dev"></i>
</a>
&nbsp;
<a id=social href=https://codepen.io/hilkerj>
<i class="fab fa-codepen"></i>
</a>
&nbsp;
<a id=social href=/blog/feed.xml>
<i class="fas fa-rss"></i>
</a>
&nbsp;
<a id=social href=mailto:jacob.hilker2@gmail.com>
<i class="fas fa-envelope"></i>
</a>
&nbsp;
<br>
</div>
<div class="sidebar-divider d-lg-none"></div>
<div class="sidebar-link button sidebar-link-with-icon d-lg-none bg-dm-dark" id=sidebar-theme-toggle onclick=halfmoon.toggleDarkMode()>
<span class="sidebar-icon justify-content-center">
<i class="fa fa-moon" aria-hidden=true></i>
</span>
Toggle Theme
</div>
<p id=copyright class="font-size-12 position-absolute bottom-0">
&copy; 2021-2021 Jacob Hilker
</p>
</div>
</div>
</div>
<div class=content-wrapper>
<div class=container-fluid>
<div class=row>
<div class=col-lg-9>
<div class=content>
<h1 class=title>Using a Makefile With My Website</h1>
<span class=postInfo>
<i class="fas fa-calendar"></i>
&nbsp;Fri, 12 Mar. 2021
&nbsp;
<i class="fas fa-stopwatch"></i>
4-minute read
&nbsp;
<i class="fas fa-calendar"></i>
Last updated:
&nbsp;Fri, 30 Jul. 2021
</span>
<br>
<span class=mb-0>
<span>
<i class="fas fa-folder-open"></i>
<b>Categories:</b>
<a href=/categories/programming>Programming</a>
<a href=/categories/web-dev>Web-dev</a>
<a href=/categories/hugo>Hugo</a>
</span>
<br>
<span class=text-right>
<span>
<i class="fas fa-tags"></i> <b>Tagged:</b>
<a href=/tags/programming>Programming</a>
<a href=/tags/web-dev>Web-dev</a>
<a href=/tags/html>HTML</a>
<a href=/tags/hugo>Hugo</a>
</span>
</span>
</span>
<p>It shouldn&rsquo;t be a surprise that I use Hugo as a static site generator. Not only is it fast, but it is also incredibly customizable, which is something that I find useful considering my website has so much stuff on it. In addition, being able to create shortcodes to avoid reusing code on certain pages is such a helpful tool for wikis. Finally, having support for Emacs' <a href=https://orgmode.org/>Org-Mode</a> is what initially drew me to Hugo in the first place. I had tried using org-publish to try and set up a website, but had so many little issues with it that I decided to scrap it and keep looking around for a better way to set up a website. That was when I found Hugo, and decided to try it out.</p>
<p>Ultimately, I found that when I was starting to create layouts and templates, typing the full <code>hugo server -D --navigateToChanged</code> was just long to type (yes, lazy, I know), especially when I was debugging an error with my shortcodes and templates. Being able just to type <code>make server</code> makes it much faster for me to debug code but also to get previews of code.</p>
<h2 id=not-just-for-debugging>Not Just For Debugging</h2>
<p>Hugo also allows for content to be created with a certain <a href=https://gohugo.io/content-management/archetypes/>archetype</a> - by default, this matches the directory you are creating the content for. As an example, if I had an archetype called <code>project.org</code>, if I ran <code>hugo new project/hello-world.org</code> the file <code>content/project/hello-world.org</code> would be created, with all the content needed for a blog post. Here&rsquo;s what my org-mode project archetype looks like:</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-org data-lang=org><span class=cs>#+title</span><span class=c>: {{ replace .Name &#34;-&#34; &#34; &#34; | title }}</span>
<span class=cs>#+draft</span><span class=c>: true</span>
<span class=cs>#+srclang</span><span class=c>:</span>
<span class=cs>#+srcicon</span><span class=c>:</span>
<span class=cs>#+summary</span><span class=c>:</span>
<span class=cs>#+type</span><span class=c>: project</span>
<span class=cs>#+featured</span><span class=c>:</span>
<span class=cs>#+layout</span><span class=c>: single</span>
<span class=cs>#+percDone</span><span class=c>: 0</span>
<span class=cs>#+lastUpdated</span><span class=c>:</span>
<span class=cs>#+docs</span><span class=c>:</span>
<span class=cs>#+projectSite</span><span class=c>:</span>
<span class=cs>#+gitlab</span><span class=c>:</span>
<span class=cs>#+github</span><span class=c>:</span>
<span class=cs>#+bitbucket</span><span class=c>:</span>
<span class=cs>#+readmore</span><span class=c>: false</span>
</code></pre></td></tr></table>
</div>
</div><p>Obviously that&rsquo;s a lot of custom parameters, so I&rsquo;ll try to go through line-by-line and explain what&rsquo;s going on.</p>
<p>The <code>title</code>, <code>draft</code>, <code>layout</code>, <code>type</code>, and <code>featured</code> parameters are all easy enough to understand, I feel like. The <code>srclang</code> represents the language or languages the project is written in - for my pyronsworn project, as an example, it&rsquo;s written in python. The <code>srcicon</code> is the icon to use to display next to the source language - it must be one of the languages or icons listed at <a href=https://devicon.dev/>devicon.dev</a>. The <code>percDone</code> is used to fill the progress bar across from the source language - it represents how much is approximately done on the latest release of the project. The last 4 parameters are all different links to places where the project lives - additionally, you can set up a trello link, add a trello parameter to the project frontmatter, and you can see the link to the roadmap, though that isn&rsquo;t required. The <code>readmore</code> variable is used to provide a way to read a little bit more about the project before trying out the project.</p>
<p>While setting up a snippet could be useful for this, Hugo has the tools to do it automatically. However, the one thing I hadn&rsquo;t had much luck with was using the <code>read</code> command in a Makefile. Ultimately, I figured out the answer through an answer on <a href=https://unix.stackexchange.com/questions/322517/read-command-not-working-in-a-makefile>the Unix StackExchange</a> which ultimately allowed me to read in user input when I ran a <code>Make</code> command. So now, instead of having to run <code>hugo new projects/some-project.org -k project</code>, I can just run <code>make project</code> and immediately get the template set up. While not a perfect setup, it&rsquo;s much easier to get going rather than using the full command or even creating an empty file in the right directory. And while I could set up different file formats in the Makefile, such as <code>post.org</code>, I feel like getting the initial functionality down is much more important than bonus features.</p>
<p>Here is my current Makefile for the website.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-makefile data-lang=makefile><span class=nf>.PHONY</span><span class=o>:</span> <span class=n>server</span> <span class=n>post</span> <span class=n>project</span>

<span class=nf>server</span><span class=o>:</span>
<span class=err>@hugo</span> <span class=err>server</span> <span class=err>-D</span> <span class=err>--navigateToChanged</span> <span class=err>--verbose</span>

<span class=nf>post</span><span class=o>:</span>
<span class=nf>@echo &#34;Enter the file name (include the suffix)</span><span class=o>:</span> &#34; &amp;&amp; <span class=n>read</span> <span class=n>filename</span>; <span class=n>hugo</span> <span class=n>new</span> <span class=n>blog</span>/$$<span class=n>filename</span> -<span class=n>k</span> <span class=n>post</span>

<span class=nf>project</span><span class=o>:</span>
<span class=nf>@echo &#34;Enter the file name (include the suffix)</span><span class=o>:</span> &#34; &amp;&amp; <span class=n>read</span> <span class=n>filename</span>; <span class=n>hugo</span> <span class=n>new</span> <span class=n>projects</span>/$$<span class=n>filename</span> -<span class=n>k</span> <span class=n>project</span>
</code></pre></td></tr></table>
</div>
</div>
</div>
</div>
<div class="col-lg-3 d-none d-lg-block">
<div class=content>
<h3 class="content-title mb-0">See Also</h3>
<ul>
<li style=list-style-type:none><a href=/blog/2021/02/featuring-site-content-in-hugo/>Featuring Site Content in Hugo</a></li>
<li style=list-style-type:none><a href=/blog/2021/08/a-psa-for-my-org-roam-hydra/>A PSA for my Org-Roam Hydra</a></li>
<li style=list-style-type:none><a href=/blog/2021/06/building-hydras-for-org-roam/>Building Hydras for Org-roam</a></li>
<li style=list-style-type:none><a href=/blog/2021/06/my-org-mode-workflow/>My Org-Mode Workflow</a></li>
</ul>
</div>
</div>
</div>
</div>
<center>
</center>
<div id=fb_comments_container>
<h2></h2>
<script src=https://utteranc.es/client.js repo=jhilker1/website-comments issue-term=pathname theme=preferred-color-scheme crossorigin=anonymous async></script>
</div>
</div>
</div>
<script src=https://jhilker.com/js/halfmoon.min.9dda67a3037ca73d329f4faa3763c45c588f74139aff20cc2542a8f8458917d4.js onload=halfmoon.toggleDarkMode()></script>
</body>
</html>